<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, interactive-widget=resizes-content">
  <title>Telegram UI Clone</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      overflow: hidden;
      height: 100vh;
    }
    #root {
      width: 100vw;
      height: 100vh;
    }
    div[contenteditable]:empty:before {
      content: "Message";
      color: #aaa;
      pointer-events: none;
    }
    button {
      touch-action: manipulation;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useRef, useEffect } = React;

    const Header = ({ onClose, contactName, contactAvatar, contactColor, isDesktop }) => {
      return (
        <div style={{
          position: isDesktop ? 'absolute' : 'fixed',
          top: 0,
          left: 0,
          right: 0,
          background: '#fff',
          zIndex: 20,
          display: 'flex',
          alignItems: 'center',
          padding: '8px 12px',
          boxShadow: '0 1px 3px rgba(0,0,0,0.1)'
        }}>
          {!isDesktop && (
            <button onClick={onClose} style={{
              marginRight: '8px',
              padding: '8px',
              background: 'none',
              border: 'none',
              cursor: 'pointer'
            }}>
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#495057" strokeWidth="2">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
              </svg>
            </button>
          )}
          
          <div style={{
            width: '44px',
            height: '44px',
            borderRadius: '50%',
            background: contactColor === 'bg-green-500' ? '#22c55e' : '#fb923c',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            marginRight: '12px'
          }}>
            <span style={{ color: 'white', fontWeight: 600, fontSize: '18px' }}>
              {contactAvatar}
            </span>
          </div>
          
          <div style={{ flex: 1, minWidth: 0 }}>
            <h2 style={{ fontSize: '17px', fontWeight: 600, color: '#000' }}>
              {contactName}
            </h2>
            <p style={{ fontSize: '13px', color: '#6b7280' }}>
              last seen recently
            </p>
          </div>

          <button style={{ padding: '8px', background: 'none', border: 'none', cursor: 'pointer' }}>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="#495057">
              <circle cx="12" cy="5" r="2"/>
              <circle cx="12" cy="12" r="2"/>
              <circle cx="12" cy="19" r="2"/>
            </svg>
          </button>
        </div>
      );
    };

    const ChatView = ({ showChat, closeChat, contactName, contactAvatar, contactColor, isDesktop }) => {
      const inputRef = useRef(null);
      const messagesEndRef = useRef(null);
      const [message, setMessage] = useState('');
      const [showEmojiPicker, setShowEmojiPicker] = useState(false);

      const handleSend = () => {
        if (message.trim()) {
          console.log('Sent:', message.trim());
          setMessage('');
          if (inputRef.current) inputRef.current.textContent = '';
          // Later: add real message to UI
        }
      };

      const handleKeyDown = (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          handleSend();
        }
      };

      useEffect(() => {
        if (messagesEndRef.current) {
          messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });
        }
      }, [message]); // demo scroll â€” replace with real messages later

      return (
        <div style={{
          position: isDesktop ? 'relative' : 'absolute',
          inset: 0,
          background: '#e5e5e5',
          backgroundImage: 'url(https://i.ibb.co/tMcNm2rY/Screenshot-20251206-103640.jpg)',
          backgroundSize: 'cover',
          transform: isDesktop ? 'none' : (showChat ? 'translateX(0)' : 'translateX(100%)'),
          transition: isDesktop ? 'none' : 'transform 0.3s ease',
          display: 'flex',
          flexDirection: 'column',
          overflow: 'hidden'
        }}>
          <Header 
            onClose={closeChat} 
            contactName={contactName} 
            contactAvatar={contactAvatar} 
            contactColor={contactColor} 
            isDesktop={isDesktop} 
          />

          <div style={{
            flex: 1,
            padding: '70px 12px 80px',
            overflowY: 'auto',
            WebkitOverflowScrolling: 'touch',
            display: 'flex',
            flexDirection: 'column',
            justifyContent: 'flex-end'
          }}>
            <div ref={messagesEndRef} />
          </div>

          <div style={{
            position: isDesktop ? 'absolute' : 'fixed',
            bottom: 0,
            left: 0,
            right: 0,
            background: '#fff',
            padding: '8px 10px',
            boxShadow: '0 -1px 3px rgba(0,0,0,0.08)',
            zIndex: 10
          }}>
            <div style={{ display: 'flex', alignItems: 'flex-end', gap: '8px' }}>
              {/* Attachment */}
              <button style={{ background: 'none', border: 'none', padding: '8px', cursor: 'pointer' }}>
                <svg width="26" height="26" viewBox="0 0 24 24" fill="#666">
                  <path d="M21 15.546c-.644.377-1.414.577-2.25.577-.836 0-1.606-.2-2.25-.577V8.454c.644-.377 1.414-.577 2.25-.577.836 0 1.606.2 2.25.577v7.092zM3 8.454c.644-.377 1.414-.577 2.25-.577.836 0 1.606.2 2.25.577v7.092c-.644.377-1.414.577-2.25.577-.836 0-1.606-.2-2.25-.577V8.454z"/>
                  <path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 18c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z"/>
                </svg>
              </button>

              {/* Input area */}
              <div style={{
                flex: 1,
                background: '#f0f0f0',
                borderRadius: '24px',
                padding: '10px 14px',
                display: 'flex',
                alignItems: 'center',
                minHeight: '44px'
              }}>
                <div
                  ref={inputRef}
                  contentEditable
                  role="textbox"
                  aria-label="Type a message"
                  onInput={(e) => setMessage(e.currentTarget.textContent)}
                  onKeyDown={handleKeyDown}
                  style={{
                    flex: 1,
                    fontSize: '16px',
                    lineHeight: '20px',
                    outline: 'none',
                    border: 'none',
                    background: 'transparent',
                    minHeight: '20px',
                    maxHeight: '120px',
                    overflowY: 'auto'
                  }}
                />

                {/* Emoji (placeholder) */}
                <button 
                  onClick={() => setShowEmojiPicker(!showEmojiPicker)}
                  style={{ background: 'none', border: 'none', padding: '8px', cursor: 'pointer' }}
                >
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="#666">
                    <circle cx="12" cy="12" r="10" fill="none" stroke="#666" strokeWidth="2"/>
                    <circle cx="9" cy="9" r="1.5" fill="#666"/>
                    <circle cx="15" cy="9" r="1.5" fill="#666"/>
                    <path d="M8 15c1 2 3 3 4 3s3-1 4-3" fill="none" stroke="#666" strokeWidth="2"/>
                  </svg>
                </button>
              </div>

              {/* Mic / Send placeholder */}
              <button style={{ background: 'none', border: 'none', padding: '8px', cursor: 'pointer' }}>
                <svg width="26" height="26" viewBox="0 0 24 24" fill="#0088cc">
                  <path d="M12 14a3 3 0 0 0 3-3V5a3 3 0 0 0-6 0v6a3 3 0 0 0 3 3z"/>
                  <path d="M19 11v1a7 7 0 0 1-14 0v-1"/>
                  <path d="M12 19v3"/>
                </svg>
              </button>
            </div>
          </div>

          {/* Emoji picker placeholder */}
          {showEmojiPicker && (
            <div style={{
              position: 'fixed',
              bottom: 0,
              left: 0,
              right: 0,
              height: '300px',
              background: '#fff',
              borderTop: '1px solid #ddd',
              zIndex: 15
            }}>
              <p style={{ textAlign: 'center', padding: '20px', color: '#666' }}>
                Emoji picker coming soon...
              </p>
            </div>
          )}
        </div>
      );
    };

    const EmptyState = () => (
      <div style={{
        height: '100%',
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        background: '#f8f9fa',
        color: '#6c757d'
      }}>
        <div style={{ textAlign: 'center' }}>
          <svg width="64" height="64" viewBox="0 0 24 24" fill="#adb5bd">
            <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/>
          </svg>
          <p style={{ marginTop: '16px', fontSize: '18px' }}>
            Select a chat to start messaging
          </p>
        </div>
      </div>
    );

    function TelegramUI() {
      const [showChat, setShowChat] = useState(false);
      const [selectedContact, setSelectedContact] = useState(null);
      const [isDesktop, setIsDesktop] = useState(window.innerWidth >= 768);

      useEffect(() => {
        const handleResize = () => setIsDesktop(window.innerWidth >= 768);
        window.addEventListener('resize', handleResize);
        return () => window.removeEventListener('resize', handleResize);
      }, []);

      const contacts = [
        { id: 1, name: 'Chizaram', avatar: 'C', color: 'bg-green-500', date: 'Oct 15' },
        { id: 2, name: 'Anty Rose', avatar: 'AR', color: 'bg-orange-400', date: 'Oct 8' },
      ];

      const openChat = (contact) => {
        setSelectedContact(contact);
        setShowChat(true);
      };

      const closeChat = () => {
        setShowChat(false);
      };

      return (
        <div style={{
          height: '100vh',
          display: isDesktop ? 'flex' : 'block',
          background: '#fff'
        }}>
          {/* Sidebar / Contact list */}
          <div style={{
            width: isDesktop ? '380px' : '100%',
            transform: isDesktop ? 'none' : (showChat ? 'translateX(-100%)' : 'translateX(0)'),
            transition: 'transform 0.3s ease',
            borderRight: isDesktop ? '1px solid #e9ecef' : 'none',
            background: '#fff',
            display: 'flex',
            flexDirection: 'column',
            height: '100%'
          }}>
            <div style={{
              padding: '12px 16px',
              background: '#f8f9fa',
              borderBottom: '1px solid #e9ecef',
              display: 'flex',
              justifyContent: 'space-between',
              alignItems: 'center'
            }}>
              <svg width="28" height="28" viewBox="0 0 24 24" fill="#3390ec">
                <path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20z"/>
              </svg>
              <div style={{ display: 'flex', gap: '20px' }}>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="#495057"><circle cx="12" cy="12" r="3"/></svg>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="#495057"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/></svg>
              </div>
            </div>

            <div style={{ flex: 1, overflowY: 'auto' }}>
              {contacts.map(contact => (
                <div
                  key={contact.id}
                  onClick={() => openChat(contact)}
                  style={{
                    display: 'flex',
                    padding: '12px 16px',
                    cursor: 'pointer',
                    background: selectedContact?.id === contact.id ? '#e9ecef' : 'transparent'
                  }}
                >
                  <div style={{
                    width: '54px',
                    height: '54px',
                    borderRadius: '50%',
                    background: contact.color === 'bg-green-500' ? '#22c55e' : '#fb923c',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    marginRight: '16px'
                  }}>
                    <span style={{ color: 'white', fontSize: '20px', fontWeight: 600 }}>
                      {contact.avatar}
                    </span>
                  </div>
                  <div style={{ flex: 1 }}>
                    <div style={{ fontWeight: 500, fontSize: '16px' }}>{contact.name}</div>
                    <div style={{ color: '#6c757d', fontSize: '14px' }}>joined Telegram</div>
                  </div>
                  <div style={{ color: '#6c757d', fontSize: '12px' }}>{contact.date}</div>
                </div>
              ))}
            </div>
          </div>

          {/* Chat area */}
          <div style={{ flex: 1, position: 'relative' }}>
            {isDesktop && !selectedContact ? (
              <EmptyState />
            ) : (
              <ChatView
                showChat={showChat}
                closeChat={closeChat}
                contactName={selectedContact?.name || ''}
                contactAvatar={selectedContact?.avatar || ''}
                contactColor={selectedContact?.color || ''}
                isDesktop={isDesktop}
              />
            )}
          </div>

          {/* FAB - New Message */}
          <button style={{
            position: 'fixed',
            bottom: '24px',
            right: '24px',
            width: '56px',
            height: '56px',
            borderRadius: '50%',
            background: '#3390ec',
            border: 'none',
            boxShadow: '0 4px 12px rgba(0,0,0,0.2)',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            cursor: 'pointer',
            zIndex: 100,
            transform: showChat && !isDesktop ? 'translateX(-100vw)' : 'scale(1)',
            transition: 'transform 0.3s ease'
          }}>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
              <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
            </svg>
          </button>
        </div>
      );
    }

    ReactDOM.render(<TelegramUI />, document.getElementById('root'));
  </script>
</body>
</html>
