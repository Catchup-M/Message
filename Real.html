<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>Telegram UI Clone</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      overflow: hidden;
      position: fixed;
      width: 100%;
      height: 100%;
    }
    #root {
      width: 100%;
      height: 100%;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }
    div[contenteditable]:empty:before {
      content: "Message";
      color: #aaa;
      pointer-events: none;
      line-height: 20px;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useRef, useEffect } = React;

    const Header = ({ onClose, contactName, contactAvatar, contactColor, isDesktop, useSliding }) => {
      return (
        <div style={{
          position: isDesktop && !useSliding ? 'absolute' : 'fixed',
          top: 0,
          left: 0,
          right: 0,
          background: '#fff',
          zIndex: 20,
          display: 'flex',
          alignItems: 'center',
          padding: '8px 12px',
          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.08)'
        }}>
          {useSliding && (
            <button onClick={onClose} style={{
              marginRight: '8px',
              padding: '4px',
              background: 'none',
              border: 'none',
              cursor: 'pointer'
            }}>
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7E8B99" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
              </svg>
            </button>
          )}
          
          <div style={{
            width: '44px',
            height: '44px',
            borderRadius: '50%',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            flexShrink: 0,
            marginRight: '12px',
            background: contactColor === 'bg-green-500' ? '#22c55e' : '#fb923c'
          }}>
            <span style={{
              color: 'white',
              fontWeight: 600,
              fontSize: '18px'
            }}>{contactAvatar}</span>
          </div>
          
          <div style={{ flex: 1, minWidth: 0 }}>
            <h2 style={{
              fontSize: '18px',
              fontWeight: 600,
              color: '#111',
              lineHeight: 1.2
            }}>{contactName}</h2>
            <p style={{
              fontSize: '14px',
              color: '#6b7280',
              lineHeight: 1.2
            }}>last seen 10/15/2025</p>
          </div>
          
          <button style={{
            padding: '8px',
            background: 'none',
            border: 'none',
            cursor: 'pointer'
          }}>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#7E8B99">
              <circle cx="12" cy="5" r="2"/>
              <circle cx="12" cy="12" r="2"/>
              <circle cx="12" cy="19" r="2"/>
            </svg>
          </button>
        </div>
      );
    };

    const ChatView = ({ showChat, closeChat, contactName, contactAvatar, contactColor, isDesktop, useSliding }) => {
      const inputRef = useRef(null);
      const contentRef = useRef(null);
      const [showEmojiPicker, setShowEmojiPicker] = useState(false);
      const [message, setMessage] = useState('');

      const handleInput = (e) => {
        const text = e.currentTarget.textContent;
        setMessage(text);
      };

      const handleAttachment = () => {
        console.log('Attachment clicked');
      };

      const handleMicrophone = () => {
        console.log('Microphone clicked');
      };

      const toggleEmojiPicker = () => {
        setShowEmojiPicker(!showEmojiPicker);
      };

      return (
        <div style={{
          position: (isDesktop && !useSliding) ? 'relative' : 'absolute',
          top: 0,
          left: 0,
          right: 0,
          bottom: 0,
          zIndex: 2,
          background: '#f5f5f5',
          backgroundImage: 'url(https://i.ibb.co/tMcNm2rY/Screenshot-20251206-103640.jpg)',
          backgroundSize: 'cover',
          backgroundPosition: 'center',
          backgroundRepeat: 'no-repeat',
          transform: useSliding ? (showChat ? 'translateX(0)' : 'translateX(100%)') : 'none',
          transition: useSliding ? 'transform 0.3s' : 'none',
          display: 'flex',
          flexDirection: 'column',
          overflow: 'hidden',
          height: '100%'
        }}>
          <Header onClose={closeChat} contactName={contactName} contactAvatar={contactAvatar} contactColor={contactColor} isDesktop={isDesktop} useSliding={useSliding} />

          <div
            ref={contentRef}
            style={{
              padding: '60px 18px',
              paddingBottom: showEmojiPicker ? '360px' : '60px',
              flex: 1,
              overflowY: 'auto',
              WebkitOverflowScrolling: 'touch',
              transition: 'padding-bottom 0.3s ease',
              position: 'relative',
              zIndex: 1
            }}>
            <div style={{
              minHeight: '100%',
              display: 'flex',
              flexDirection: 'column',
              justifyContent: 'flex-end'
            }}>
            </div>
          </div>

          <div style={{
            position: isDesktop ? 'absolute' : 'fixed',
            bottom: showEmojiPicker ? '300px' : 0,
            left: 0,
            right: 0,
            zIndex: 10,
            background: '#fff',
            border: 'none',
            transition: 'bottom 0.3s ease',
            padding: '6px 10px',
            display: 'flex',
            flexDirection: 'column'
          }}>
            <div style={{
              display: 'flex',
              alignItems: 'flex-end'
            }}>
              <svg
                style={{ width: '25px', height: '29px', marginRight: '10px', marginBottom: '7px', flexShrink: 0, fill: '#666666', cursor: 'pointer' }}
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                onClick={handleAttachment}
                onMouseDown={(e) => e.preventDefault()}
              >
                <g>
                  <path fill="#666666" fillRule="evenodd" d="M8 7.308c0-.558.186-1.434.659-2.14C9.1 4.504 9.779 4 10.88 4c1.134 0 1.88.499 2.373 1.155c.52.692.746 1.555.746 2.153v7.54a.8.8 0 0 1-.073.223c-.065.141-.166.3-.3.447c-.269.295-.61.482-1.002.482c-.436 0-.777-.18-1.02-.433c-.263-.274-.355-.574-.355-.72v-7.56a1 1 0 0 0-2 0v7.56c0 .75.358 1.527.912 2.105A3.38 3.38 0 0 0 12.625 18c1.085 0 1.93-.532 2.48-1.134c.517-.567.895-1.335.895-2.02V7.308c0-1.001-.35-2.292-1.146-3.354C14.029 2.856 12.716 2 10.88 2c-1.867 0-3.13.925-3.885 2.055A6.13 6.13 0 0 0 6 7.308v8.695C6 19.402 9.003 22 12.5 22c3.498 0 6.5-2.597 6.5-5.997V7a1 1 0 1 0-2 0v9.003C17 18.123 15.079 20 12.5 20C9.923 20 8 18.122 8 16.003z" clipRule="evenodd" />
                </g>
              </svg>

              <div style={{
                flex: 1,
                display: 'flex',
                alignItems: 'flex-end',
                background: '#f1f1f1',
                borderRadius: '20px',
                padding: '11.5px 10px',
                minHeight: '43px',
                maxHeight: '150px',
                boxSizing: 'border-box',
                overflowY: 'auto'
              }}>
                <svg
                  onClick={toggleEmojiPicker}
                  style={{ width: '21px', height: '21px', flexShrink: 0, marginRight: '10px', cursor: 'pointer' }}
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 512 512"
                >
                  <path fill="#666666" d="M464 256a208 208 0 1 0-416 0a208 208 0 1 0 416 0M0 256a256 256 0 1 1 512 0a256 256 0 1 1-512 0m177.3 63.4c15 15.6 41.1 32.6 78.7 32.6s63.7-17 78.7-32.6c9.2-9.6 24.4-9.9 33.9-.7s9.9 24.4.7 33.9c-22.1 23-60 47.4-113.3 47.4s-91.2-24.4-113.3-47.4c-9.2-9.6-8.9-24.8.7-33.9s24.8-8.9 33.9.7M144 208a32 32 0 1 1 64 0a32 32 0 1 1-64 0m192-32a32 32 0 1 1 0 64a32 32 0 1 1 0-64" />
                </svg>

                <div
                  ref={inputRef}
                  contentEditable
                  role="textbox"
                  aria-label="Message input"
                  onInput={handleInput}
                  onFocus={() => setShowEmojiPicker(false)}
                  style={{
                    flex: 1,
                    fontSize: '14px',
                    lineHeight: '20px',
                    outline: 'none',
                    border: 'none',
                    background: 'transparent',
                    padding: 0,
                    minHeight: '20px',
                    maxHeight: '127px',
                    overflowY: 'auto'
                  }}
                />
              </div>

              <div style={{ width: '40px', flexShrink: 0, display: 'flex', justifyContent: 'flex-end', alignItems: 'flex-end' }}>
                <svg
                  style={{ width: '25px', height: '29px', marginBottom: '7px', fill: '#666666', cursor: 'pointer' }}
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 256 256"
                  onClick={handleMicrophone}
                  onMouseDown={(e) => e.preventDefault()}
                >
                  <path fill="#666666" d="M128 176a48.05 48.05 0 0 0 48-48V64a48 48 0 0 0-96 0v64a48.05 48.05 0 0 0 48 48ZM96 64a32 32 0 0 1 64 0v64a32 32 0 0 1-64 0Zm40 143.6V232a8 8 0 0 1-16 0v-24.4A80.11 80.11 0 0 1 48 128a8 8 0 0 1 16 0a64 64 0 0 0 128 0a8 8 0 0 1 16 0a80.11 80.11 0 0 1-72 79.6Z" />
                </svg>
              </div>
            </div>
          </div>

          <div style={{
            position: isDesktop ? 'absolute' : 'fixed',
            bottom: showEmojiPicker ? 0 : '-300px',
            left: 0,
            right: 0,
            height: '300px',
            background: '#fff',
            zIndex: 9,
            transition: 'bottom 0.3s ease',
            boxShadow: '0 -2px 10px rgba(0,0,0,0.1)'
          }}>
          </div>
        </div>
      );
    };

    const EmptyState = () => {
      const isMobile = window.innerWidth < 768;
      return (
        <div style={{
          display: 'flex',
          alignItems: 'center',
          justifyContent: isMobile ? 'flex-start' : 'center',
          height: '100%',
          background: '#f9fafb',
          paddingLeft: isMobile ? '200px' : '0'
        }}>
          <div style={{ textAlign: 'center' }}>
            <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24" style={{ margin: '0 auto 16px', color: '#d1d5db' }}>
              <path fill="currentColor" d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/>
            </svg>
            <p style={{ color: '#6b7280', fontSize: '18px' }}>Click to start a conversation</p>
          </div>
        </div>
      );
    };

    function TelegramUI() {
      const [showChat, setShowChat] = useState(false);
      const [selectedContact, setSelectedContact] = useState(null);
      const [isDesktop, setIsDesktop] = useState(false);
      const [isTouchDevice, setIsTouchDevice] = useState(false);

      useEffect(() => {
        const checkDevice = () => {
          const width = window.innerWidth;
          const hasTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
          
          setIsDesktop(width >= 768);
          setIsTouchDevice(hasTouch);
        };
        
        checkDevice();
        window.addEventListener('resize', checkDevice);
        
        return () => window.removeEventListener('resize', checkDevice);
      }, []);

      // Determine if we should use sliding animations
      // Use sliding if: mobile OR (desktop width BUT touch device - Chrome desktop mode on mobile)
      const useSliding = !isDesktop || (isDesktop && isTouchDevice);

      const contacts = [
        {
          id: 1,
          name: 'Chizaram',
          message: 'Chizaram joined Telegram',
          date: 'Oct 15, 2025',
          avatar: 'C',
          color: 'bg-green-500'
        },
        {
          id: 2,
          name: 'Anty Rose',
          message: 'Anty Rose joined Telegram',
          date: 'Oct 8, 2025',
          avatar: 'AR',
          color: 'bg-orange-400'
        }
      ];

      const openChat = (contact) => {
        setSelectedContact(contact);
        setShowChat(true);
      };

      const closeChat = () => {
        setShowChat(false);
        if (!isDesktop) {
          setTimeout(() => setSelectedContact(null), 300);
        }
      };

      return (
        <div style={{
          minHeight: '100%',
          background: 'white',
          position: 'relative',
          overflow: 'hidden',
          display: isDesktop ? 'flex' : 'block',
          height: '100%'
        }}>
          <div style={{
            width: isDesktop ? '400px' : '100%',
            transform: useSliding ? (showChat ? 'translateX(-100%)' : 'translateX(0)') : 'none',
            transition: useSliding ? 'transform 0.3s' : 'none',
            position: 'relative',
            zIndex: 1,
            borderRight: isDesktop ? '1px solid #e5e5e5' : 'none',
            flexShrink: 0,
            height: '100%',
            display: 'flex',
            flexDirection: 'column'
          }}>
            <div style={{
              padding: '16px',
              background: 'white',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'space-between',
              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.08)'
            }}>
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 20 20">
                <path fill="#3390EC" d="M10 0a10 10 0 1 0 10 10A10 10 0 0 0 10 0zm2.5 14.5L9 11V4h2v6l3 3z"/>
              </svg>
              
              <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24">
                <path fill="#000000" d="M24 14.6c0 .6-1.2 1-2.6 1.2c-.9-1.7-2.7-3-4.8-3.9c.2-.3.4-.5.6-.8h.8c3.1-.1 6 1.8 6 3.5zM6.8 11H6c-3.1 0-6 1.9-6 3.6c0 .6 1.2 1 2.6 1.2c.9-1.7 2.7-3 4.8-3.9l-.6-.9zm5.2 1c2.2 0 4-1.8 4-4s-1.8-4-4-4s-4 1.8-4 4s1.8 4 4 4zm0 1c-4.1 0-8 2.6-8 5c0 2 8 2 8 2s8 0 8-2c0-2.4-3.9-5-8-5zm5.7-3h.3c1.7 0 3-1.3 3-3s-1.3-3-3-3c-.5 0-.9.1-1.3.3c.8 1 1.3 2.3 1.3 3.7c0 .7-.1 1.4-.3 2zM6 10h.3C6.1 9.4 6 8.7 6 8c0-1.4.5-2.7 1.3-3.7C6.9 4.1 6.5 4 6 4C4.3 4 3 5.3 3 7s1.3 3 3 3z"/>
              </svg>
              
              <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="#000000">
                <g fill="none" fillRule="evenodd">
                  <path d="M24 0v24H0V0h24ZM12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036c-.01-.003-.019 0-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.016-.018Zm.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01l-.184-.092Z"/>
                  <path fill="#000000" d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10s10-4.477 10-10S17.523 2 12 2ZM8.5 9.5a3.5 3.5 0 1 1 7 0a3.5 3.5 0 0 1-7 0Zm9.758 7.484A7.985 7.985 0 0 1 12 20a7.985 7.985 0 0 1-6.258-3.016C7.363 15.821 9.575 15 12 15s4.637.821 6.258 1.984Z"/>
                </g>
              </svg>
            </div>

            <div style={{ 
              borderTop: '1px solid #f0f0f0',
              overflowY: 'auto',
              flex: 1
            }}>
              {contacts.map((contact) => (
                <div 
                  key={contact.id} 
                  onClick={() => openChat(contact)}
                  style={{
                    display: 'flex',
                    alignItems: 'center',
                    gap: '12px',
                    padding: '10px 16px',
                    cursor: 'pointer',
                    borderBottom: '1px solid #f0f0f0',
                    background: isDesktop && selectedContact?.id === contact.id ? '#f0f0f0' : 'transparent'
                  }}
                  onMouseEnter={(e) => e.currentTarget.style.background = '#f9fafb'}
                  onMouseLeave={(e) => e.currentTarget.style.background = isDesktop && selectedContact?.id === contact.id ? '#f0f0f0' : 'transparent'}
                >
                  <div style={{
                    width: '48px',
                    height: '48px',
                    borderRadius: '50%',
                    background: contact.color === 'bg-green-500' ? '#22c55e' : '#fb923c',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    flexShrink: 0
                  }}>
                    <span style={{
                      color: 'white',
                      fontWeight: 600,
                      fontSize: '16px'
                    }}>{contact.avatar}</span>
                  </div>

                  <div style={{ flex: 1, minWidth: 0 }}>
                    <div style={{
                      display: 'flex',
                      alignItems: 'baseline',
                      justifyContent: 'space-between',
                      marginBottom: '2px'
                    }}>
                      <h3 style={{
                        fontWeight: 500,
                        color: '#111',
                        fontSize: '15px'
                      }}>{contact.name}</h3>
                      <span style={{
                        fontSize: '12px',
                        color: '#6b7280',
                        marginLeft: '8px'
                      }}>{contact.date}</span>
                    </div>
                    <p style={{
                      color: '#6b7280',
                      fontSize: '13px',
                      overflow: 'hidden',
                      textOverflow: 'ellipsis',
                      whiteSpace: 'nowrap'
                    }}>{contact.message}</p>
                  </div>
                </div>
              ))}
            </div>
          </div>

          <div style={{
            flex: 1,
            position: (isDesktop && !useSliding) ? 'relative' : 'absolute',
            top: 0,
            left: 0,
            right: 0,
            bottom: 0,
            height: '100%'
          }}>
            {(isDesktop && !selectedContact) ? (
              <EmptyState />
            ) : (
              <ChatView 
                showChat={showChat} 
                closeChat={closeChat}
                contactName={selectedContact ? selectedContact.name : ''}
                contactAvatar={selectedContact ? selectedContact.avatar : ''}
                contactColor={selectedContact ? selectedContact.color : ''}
                isDesktop={isDesktop}
                useSliding={useSliding}
              />
            )}
          </div>

          <button 
  style={{
    backgroundColor: 'white',
    width: '52px',
    height: '52px',
    borderRadius: '50%',
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'center',
    border: 'none',
    cursor: 'pointer',
    boxShadow: '0 2px 8px rgba(0, 0, 0, 0.12), 0 4px 12px rgba(0, 0, 0, 0.06)',
    zIndex: 11,
    position: 'fixed',
    bottom: '24px',
    left: isDesktop ? '324px' : 'auto',
    right: !isDesktop ? '24px' : 'auto',
    transform: (useSliding && showChat) ? 'translateX(-100vw)' : 'none',
    transition: 'transform 0.3s'
  }}
  onMouseEnter={(e) => e.currentTarget.style.transform = (useSliding && showChat) ? 'translateX(-100vw) scale(1.05)' : 'scale(1.05)'}
  onMouseLeave={(e) => e.currentTarget.style.transform = (useSliding && showChat) ? 'translateX(-100vw)' : 'none'}
>
  <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
    <path fill="#3390EC" d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
  </svg>
</button>
        </div>
      );
    }

    ReactDOM.render(<TelegramUI />, document.getElementById('root'));
  </script>
</body>
</html>
